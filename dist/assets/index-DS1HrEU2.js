import{aI as _a,r as n,K as Fr,I as S,_ as sa,Y as V,aO as Na,aP as ca,ak as Ra,E as Ea,aj as Ia,F,aQ as Fa,h as tr,l as Ta,H as xa,m as Aa,an as ja,B as Ve,aR as va,a8 as qa}from"./index-CyGIF9Ci.js";import{R as za,i as Ua}from"./useSize-C4Mcq4xO.js";import{k as da}from"./index-pwftkDTR.js";const ia=()=>({height:0,opacity:0}),ma=e=>{const{scrollHeight:a}=e;return{height:a,opacity:1}},Va=e=>({height:e?e.offsetHeight:0}),ua=(e,a)=>(a==null?void 0:a.deadline)===!0||a.propertyName==="height",Qa=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:_a}-motion-collapse`,onAppearStart:ia,onEnterStart:ia,onAppearActive:ma,onEnterActive:ma,onLeaveStart:Va,onLeaveActive:ia,onAppearEnd:ua,onEnterEnd:ua,onLeaveEnd:ua,motionDeadline:500}},Ct=(e,a,r)=>r!==void 0?r:`${e}-${a}`,Mt=Qa;var Wa=n.createContext(null),ga=[];function Ja(e,a){var r=n.useState(function(){if(!Fr())return null;var g=document.createElement("div");return g}),t=S(r,1),o=t[0],u=n.useRef(!1),l=n.useContext(Wa),c=n.useState(ga),m=S(c,2),d=m[0],b=m[1],f=l||(u.current?void 0:function(g){b(function(P){var R=[g].concat(sa(P));return R})});function C(){o.parentElement||document.body.appendChild(o),u.current=!0}function h(){var g;(g=o.parentElement)===null||g===void 0||g.removeChild(o),u.current=!1}return V(function(){return e?l?l(C):C():h(),h},[e]),V(function(){d.length&&(d.forEach(function(g){return g()}),b(ga))},[d]),[o,f]}var la;function Ha(e){var a="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),r=document.createElement("div");r.id=a;var t=r.style;t.position="absolute",t.left="0",t.top="0",t.width="100px",t.height="100px",t.overflow="scroll";var o,u;if(e){var l=getComputedStyle(e);t.scrollbarColor=l.scrollbarColor,t.scrollbarWidth=l.scrollbarWidth;var c=getComputedStyle(e,"::-webkit-scrollbar"),m=parseInt(c.width,10),d=parseInt(c.height,10);try{var b=m?"width: ".concat(c.width,";"):"",f=d?"height: ".concat(c.height,";"):"";Na(`
#`.concat(a,`::-webkit-scrollbar {
`).concat(b,`
`).concat(f,`
}`),a)}catch(g){console.error(g),o=m,u=d}}document.body.appendChild(r);var C=e&&o&&!isNaN(o)?o:r.offsetWidth-r.clientWidth,h=e&&u&&!isNaN(u)?u:r.offsetHeight-r.clientHeight;return document.body.removeChild(r),ca(a),{width:C,height:h}}function St(e){return typeof document>"u"?0:(la===void 0&&(la=Ha()),la.width)}function Ka(e){return typeof document>"u"||!e||!(e instanceof Element)?{width:0,height:0}:Ha(e)}function Ga(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var Za="rc-util-locker-".concat(Date.now()),ya=0;function Ya(e){var a=!!e,r=n.useState(function(){return ya+=1,"".concat(Za,"_").concat(ya)}),t=S(r,1),o=t[0];V(function(){if(a){var u=Ka(document.body).width,l=Ga();Na(`
html body {
  overflow-y: hidden;
  `.concat(l?"width: calc(100% - ".concat(u,"px);"):"",`
}`),o)}else ca(o);return function(){ca(o)}},[a,o])}var Xa=!1;function Oa(e){return Xa}var wa=function(a){return a===!1?!1:!Fr()||!a?null:typeof a=="string"?document.querySelector(a):typeof a=="function"?a():a},Ba=n.forwardRef(function(e,a){var r=e.open,t=e.autoLock,o=e.getContainer;e.debug;var u=e.autoDestroy,l=u===void 0?!0:u,c=e.children,m=n.useState(r),d=S(m,2),b=d[0],f=d[1],C=b||r;n.useEffect(function(){(l||r)&&f(r)},[r,l]);var h=n.useState(function(){return wa(o)}),g=S(h,2),P=g[0],R=g[1];n.useEffect(function(){var p=wa(o);R(p??null)});var B=Ja(C&&!P),T=S(B,2),M=T[0],v=T[1],_=P??M;Ya(t&&r&&Fr()&&(_===M||_===document.body));var X=null;if(c&&Ra(c)&&a){var O=c;X=O.ref}var ie=Ea(X,a);if(!C||!Fr()||P===void 0)return null;var de=_===!1||Oa(),Q=c;return a&&(Q=n.cloneElement(c,{ref:ie})),n.createElement(Wa.Provider,{value:v},de?Q:Ia.createPortal(Q,_))});function pa(){var e=F({},Fa);return e.useId}var ba=0,Ca=pa();const et=Ca?function(a){var r=Ca();return a||r}:function(a){var r=n.useState("ssr-id"),t=S(r,2),o=t[0],u=t[1];return n.useEffect(function(){var l=ba;ba+=1,u("rc_unique_".concat(l))},[]),a||o},rt=e=>({animationDuration:e,animationFillMode:"both"}),at=e=>({animationDuration:e,animationFillMode:"both"}),Pt=function(e,a,r,t){const u=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${u}${e}-enter,
      ${u}${e}-appear
    `]:Object.assign(Object.assign({},rt(t)),{animationPlayState:"paused"}),[`${u}${e}-leave`]:Object.assign(Object.assign({},at(t)),{animationPlayState:"paused"}),[`
      ${u}${e}-enter${e}-enter-active,
      ${u}${e}-appear${e}-appear-active
    `]:{animationName:a,animationPlayState:"running"},[`${u}${e}-leave${e}-leave-active`]:{animationName:r,animationPlayState:"running",pointerEvents:"none"}}},tt=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};function nt(e){var a=e.prefixCls,r=e.align,t=e.arrow,o=e.arrowPos,u=t||{},l=u.className,c=u.content,m=o.x,d=m===void 0?0:m,b=o.y,f=b===void 0?0:b,C=n.useRef();if(!r||!r.points)return null;var h={position:"absolute"};if(r.autoArrow!==!1){var g=r.points[0],P=r.points[1],R=g[0],B=g[1],T=P[0],M=P[1];R===T||!["t","b"].includes(R)?h.top=f:R==="t"?h.top=0:h.bottom=0,B===M||!["l","r"].includes(B)?h.left=d:B==="l"?h.left=0:h.right=0}return n.createElement("div",{ref:C,className:tr("".concat(a,"-arrow"),l),style:h},c)}function ot(e){var a=e.prefixCls,r=e.open,t=e.zIndex,o=e.mask,u=e.motion;return o?n.createElement(Ta,xa({},u,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(l){var c=l.className;return n.createElement("div",{style:{zIndex:t},className:tr("".concat(a,"-mask"),c)})}):null}var it=n.memo(function(e){var a=e.children;return a},function(e,a){return a.cache}),ut=n.forwardRef(function(e,a){var r=e.popup,t=e.className,o=e.prefixCls,u=e.style,l=e.target,c=e.onVisibleChanged,m=e.open,d=e.keepDom,b=e.fresh,f=e.onClick,C=e.mask,h=e.arrow,g=e.arrowPos,P=e.align,R=e.motion,B=e.maskMotion,T=e.forceRender,M=e.getPopupContainer,v=e.autoDestroy,_=e.portal,X=e.zIndex,O=e.onMouseEnter,ie=e.onMouseLeave,de=e.onPointerEnter,Q=e.ready,p=e.offsetX,fe=e.offsetY,he=e.offsetR,ue=e.offsetB,me=e.onAlign,x=e.onPrepare,W=e.stretch,y=e.targetWidth,J=e.targetHeight,k=typeof r=="function"?r():r,le=m||d,ee=(M==null?void 0:M.length)>0,nr=n.useState(!M||!ee),Qe=S(nr,2),ge=Qe[0],Je=Qe[1];if(V(function(){!ge&&ee&&l&&Je(!0)},[ge,ee,l]),!ge)return null;var re="auto",H={left:"-1000vw",top:"-1000vh",right:re,bottom:re};if(Q||!m){var K,se=P.points,ce=P.dynamicInset||((K=P._experimental)===null||K===void 0?void 0:K.dynamicInset),Ke=ce&&se[0][1]==="r",or=ce&&se[0][0]==="b";Ke?(H.right=he,H.left=re):(H.left=p,H.right=re),or?(H.bottom=ue,H.top=re):(H.top=fe,H.bottom=re)}var I={};return W&&(W.includes("height")&&J?I.height=J:W.includes("minHeight")&&J&&(I.minHeight=J),W.includes("width")&&y?I.width=y:W.includes("minWidth")&&y&&(I.minWidth=y)),m||(I.pointerEvents="none"),n.createElement(_,{open:T||le,getContainer:M&&function(){return M(l)},autoDestroy:v},n.createElement(ot,{prefixCls:o,open:m,zIndex:X,mask:C,motion:B}),n.createElement(za,{onResize:me,disabled:!m},function(Ge){return n.createElement(Ta,xa({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:T,leavedClassName:"".concat(o,"-hidden")},R,{onAppearPrepare:x,onEnterPrepare:x,visible:m,onVisibleChanged:function(q){var ye;R==null||(ye=R.onVisibleChanged)===null||ye===void 0||ye.call(R,q),c(q)}}),function(ke,q){var ye=ke.className,w=ke.style,xe=tr(o,ye,t);return n.createElement("div",{ref:Aa(Ge,a,q),className:xe,style:F(F(F(F({"--arrow-x":"".concat(g.x||0,"px"),"--arrow-y":"".concat(g.y||0,"px")},H),I),w),{},{boxSizing:"border-box",zIndex:X},u),onMouseEnter:O,onMouseLeave:ie,onPointerEnter:de,onClick:f},h&&n.createElement(nt,{prefixCls:o,arrow:h,arrowPos:g,align:P}),n.createElement(it,{cache:!m&&!b},k))})}))}),lt=n.forwardRef(function(e,a){var r=e.children,t=e.getTriggerDOMNode,o=Ra(r),u=n.useCallback(function(c){ja(a,t?t(c):c)},[t]),l=Ea(u,r.ref);return o?n.cloneElement(r,{ref:l}):r}),Ma=n.createContext(null);function Sa(e){return e?Array.isArray(e)?e:[e]:[]}function st(e,a,r,t){return n.useMemo(function(){var o=Sa(r??a),u=Sa(t??a),l=new Set(o),c=new Set(u);return e&&(l.has("hover")&&(l.delete("hover"),l.add("click")),c.has("hover")&&(c.delete("hover"),c.add("click"))),[l,c]},[e,a,r,t])}function ct(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===a[0]:e[0]===a[0]&&e[1]===a[1]}function vt(e,a,r,t){for(var o=r.points,u=Object.keys(e),l=0;l<u.length;l+=1){var c,m=u[l];if(ct((c=e[m])===null||c===void 0?void 0:c.points,o,t))return"".concat(a,"-placement-").concat(m)}return""}function Pa(e,a,r,t){return a||(r?{motionName:"".concat(e,"-").concat(r)}:t?{motionName:t}:null)}function br(e){return e.ownerDocument.defaultView}function fa(e){for(var a=[],r=e==null?void 0:e.parentElement,t=["hidden","scroll","clip","auto"];r;){var o=br(r).getComputedStyle(r),u=o.overflowX,l=o.overflowY,c=o.overflow;[u,l,c].some(function(m){return t.includes(m)})&&a.push(r),r=r.parentElement}return a}function wr(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?a:e}function yr(e){return wr(parseFloat(e),0)}function ka(e,a){var r=F({},e);return(a||[]).forEach(function(t){if(!(t instanceof HTMLBodyElement||t instanceof HTMLHtmlElement)){var o=br(t).getComputedStyle(t),u=o.overflow,l=o.overflowClipMargin,c=o.borderTopWidth,m=o.borderBottomWidth,d=o.borderLeftWidth,b=o.borderRightWidth,f=t.getBoundingClientRect(),C=t.offsetHeight,h=t.clientHeight,g=t.offsetWidth,P=t.clientWidth,R=yr(c),B=yr(m),T=yr(d),M=yr(b),v=wr(Math.round(f.width/g*1e3)/1e3),_=wr(Math.round(f.height/C*1e3)/1e3),X=(g-P-T-M)*v,O=(C-h-R-B)*_,ie=R*_,de=B*_,Q=T*v,p=M*v,fe=0,he=0;if(u==="clip"){var ue=yr(l);fe=ue*v,he=ue*_}var me=f.x+Q-fe,x=f.y+ie-he,W=me+f.width+2*fe-Q-p-X,y=x+f.height+2*he-ie-de-O;r.left=Math.max(r.left,me),r.top=Math.max(r.top,x),r.right=Math.min(r.right,W),r.bottom=Math.min(r.bottom,y)}}),r}function $a(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(a),t=r.match(/^(.*)\%$/);return t?e*(parseFloat(t[1])/100):parseFloat(r)}function Da(e,a){var r=a||[],t=S(r,2),o=t[0],u=t[1];return[$a(e.width,o),$a(e.height,u)]}function La(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function ar(e,a){var r=a[0],t=a[1],o,u;return r==="t"?u=e.y:r==="b"?u=e.y+e.height:u=e.y+e.height/2,t==="l"?o=e.x:t==="r"?o=e.x+e.width:o=e.x+e.width/2,{x:o,y:u}}function Te(e,a){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(t,o){return o===a?r[t]||"c":t}).join("")}function dt(e,a,r,t,o,u,l){var c=n.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[t]||{}}),m=S(c,2),d=m[0],b=m[1],f=n.useRef(0),C=n.useMemo(function(){return a?fa(a):[]},[a]),h=n.useRef({}),g=function(){h.current={}};e||g();var P=Ve(function(){if(a&&r&&e){let Y=function(Pe,Ue){var er=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xe,rr=k.x+Pe,mr=k.y+Ue,gr=rr+K,Br=mr+H,ra=Math.max(rr,er.left),aa=Math.max(mr,er.top),ta=Math.min(gr,er.right),na=Math.min(Br,er.bottom);return Math.max(0,(ta-ra)*(na-aa))},Hr=function(){Be=k.y+$,_e=Be+H,Ce=k.x+D,Ie=Ce+K};var T,M,v=a,_=v.ownerDocument,X=br(v),O=X.getComputedStyle(v),ie=O.width,de=O.height,Q=O.position,p=v.style.left,fe=v.style.top,he=v.style.right,ue=v.style.bottom,me=v.style.overflow,x=F(F({},o[t]),u),W=_.createElement("div");(T=v.parentElement)===null||T===void 0||T.appendChild(W),W.style.left="".concat(v.offsetLeft,"px"),W.style.top="".concat(v.offsetTop,"px"),W.style.position=Q,W.style.height="".concat(v.offsetHeight,"px"),W.style.width="".concat(v.offsetWidth,"px"),v.style.left="0",v.style.top="0",v.style.right="auto",v.style.bottom="auto",v.style.overflow="hidden";var y;if(Array.isArray(r))y={x:r[0],y:r[1],width:0,height:0};else{var J=r.getBoundingClientRect();y={x:J.x,y:J.y,width:J.width,height:J.height}}var k=v.getBoundingClientRect(),le=_.documentElement,ee=le.clientWidth,nr=le.clientHeight,Qe=le.scrollWidth,ge=le.scrollHeight,Je=le.scrollTop,re=le.scrollLeft,H=k.height,K=k.width,se=y.height,ce=y.width,Ke={left:0,top:0,right:ee,bottom:nr},or={left:-re,top:-Je,right:Qe-re,bottom:ge-Je},I=x.htmlRegion,Ge="visible",ke="visibleFirst";I!=="scroll"&&I!==ke&&(I=Ge);var q=I===ke,ye=ka(or,C),w=ka(Ke,C),xe=I===Ge?w:ye,G=q?w:xe;v.style.left="auto",v.style.top="auto",v.style.right="0",v.style.bottom="0";var Cr=v.getBoundingClientRect();v.style.left=p,v.style.top=fe,v.style.right=he,v.style.bottom=ue,v.style.overflow=me,(M=v.parentElement)===null||M===void 0||M.removeChild(W);var $e=wr(Math.round(K/parseFloat(ie)*1e3)/1e3),De=wr(Math.round(H/parseFloat(de)*1e3)/1e3);if($e===0||De===0||va(r)&&!Ua(r))return;var Mr=x.offset,A=x.targetOffset,Ar=Da(k,Mr),ir=S(Ar,2),ae=ir[0],te=ir[1],Sr=Da(y,A),ne=S(Sr,2),jr=ne[0],Pr=ne[1];y.x-=jr,y.y-=Pr;var qr=x.points||[],ze=S(qr,2),Z=ze[0],Le=ze[1],we=La(Le),U=La(Z),kr=ar(y,we),$r=ar(k,U),be=F({},x),D=kr.x-$r.x+ae,$=kr.y-$r.y+te,E=Y(D,$),Ze=Y(D,$,w),Ne=ar(y,["t","l"]),We=ar(k,["t","l"]),ur=ar(y,["b","r"]),lr=ar(k,["b","r"]),He=x.overflow||{},oe=He.adjustX,Ur=He.adjustY,sr=He.shiftX,Ye=He.shiftY,cr=function(Ue){return typeof Ue=="boolean"?Ue:Ue>=0},Be,_e,Ce,Ie;Hr();var Dr=cr(Ur),vr=U[0]===we[0];if(Dr&&U[0]==="t"&&(_e>G.bottom||h.current.bt)){var Re=$;vr?Re-=H-se:Re=Ne.y-lr.y-te;var Lr=Y(D,Re),Xe=Y(D,Re,w);Lr>E||Lr===E&&(!q||Xe>=Ze)?(h.current.bt=!0,$=Re,te=-te,be.points=[Te(U,0),Te(we,0)]):h.current.bt=!1}if(Dr&&U[0]==="b"&&(Be<G.top||h.current.tb)){var Fe=$;vr?Fe+=H-se:Fe=ur.y-We.y-te;var j=Y(D,Fe),Vr=Y(D,Fe,w);j>E||j===E&&(!q||Vr>=Ze)?(h.current.tb=!0,$=Fe,te=-te,be.points=[Te(U,0),Te(we,0)]):h.current.tb=!1}var Nr=cr(oe),Rr=U[1]===we[1];if(Nr&&U[1]==="l"&&(Ie>G.right||h.current.rl)){var Ae=D;Rr?Ae-=K-ce:Ae=Ne.x-lr.x-ae;var Er=Y(Ae,$),Qr=Y(Ae,$,w);Er>E||Er===E&&(!q||Qr>=Ze)?(h.current.rl=!0,D=Ae,ae=-ae,be.points=[Te(U,1),Te(we,1)]):h.current.rl=!1}if(Nr&&U[1]==="r"&&(Ce<G.left||h.current.lr)){var je=D;Rr?je+=K-ce:je=ur.x-We.x-ae;var Tr=Y(je,$),Jr=Y(je,$,w);Tr>E||Tr===E&&(!q||Jr>=Ze)?(h.current.lr=!0,D=je,ae=-ae,be.points=[Te(U,1),Te(we,1)]):h.current.lr=!1}Hr();var ve=sr===!0?0:sr;typeof ve=="number"&&(Ce<w.left&&(D-=Ce-w.left-ae,y.x+ce<w.left+ve&&(D+=y.x-w.left+ce-ve)),Ie>w.right&&(D-=Ie-w.right-ae,y.x>w.right-ve&&(D+=y.x-w.right+ve)));var Me=Ye===!0?0:Ye;typeof Me=="number"&&(Be<w.top&&($-=Be-w.top-te,y.y+se<w.top+Me&&($+=y.y-w.top+se-Me)),_e>w.bottom&&($-=_e-w.bottom-te,y.y>w.bottom-Me&&($+=y.y-w.bottom+Me)));var dr=k.x+D,xr=dr+K,Ee=k.y+$,qe=Ee+H,fr=y.x,Oe=fr+ce,Se=y.y,Kr=Se+se,Gr=Math.max(dr,fr),Zr=Math.min(xr,Oe),zr=(Gr+Zr)/2,Yr=zr-dr,Xr=Math.max(Ee,Se),Or=Math.min(qe,Kr),Wr=(Xr+Or)/2,pr=Wr-Ee;l==null||l(a,be);var hr=Cr.right-k.x-(D+k.width),pe=Cr.bottom-k.y-($+k.height);$e===1&&(D=Math.round(D),hr=Math.round(hr)),De===1&&($=Math.round($),pe=Math.round(pe));var ea={ready:!0,offsetX:D/$e,offsetY:$/De,offsetR:hr/$e,offsetB:pe/De,arrowX:Yr/$e,arrowY:pr/De,scaleX:$e,scaleY:De,align:be};b(ea)}}),R=function(){f.current+=1;var M=f.current;Promise.resolve().then(function(){f.current===M&&P()})},B=function(){b(function(M){return F(F({},M),{},{ready:!1})})};return V(B,[t]),V(function(){e||B()},[e]),[d.ready,d.offsetX,d.offsetY,d.offsetR,d.offsetB,d.arrowX,d.arrowY,d.scaleX,d.scaleY,d.align,R]}function ft(e,a,r,t,o){V(function(){if(e&&a&&r){let f=function(){t(),o()};var u=a,l=r,c=fa(u),m=fa(l),d=br(l),b=new Set([d].concat(sa(c),sa(m)));return b.forEach(function(C){C.addEventListener("scroll",f,{passive:!0})}),d.addEventListener("resize",f,{passive:!0}),t(),function(){b.forEach(function(C){C.removeEventListener("scroll",f),d.removeEventListener("resize",f)})}}},[e,a,r])}function ht(e,a,r,t,o,u,l,c){var m=n.useRef(e);m.current=e,n.useEffect(function(){if(a&&t&&(!o||u)){var d=function(h){var g=h.target;m.current&&!l(g)&&c(!1)},b=br(t);b.addEventListener("mousedown",d,!0),b.addEventListener("contextmenu",d,!0);var f=da(r);return f&&(f.addEventListener("mousedown",d,!0),f.addEventListener("contextmenu",d,!0)),function(){b.removeEventListener("mousedown",d,!0),b.removeEventListener("contextmenu",d,!0),f&&(f.removeEventListener("mousedown",d,!0),f.removeEventListener("contextmenu",d,!0))}}},[a,r,t,o,u])}var mt=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function gt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ba,a=n.forwardRef(function(r,t){var o=r.prefixCls,u=o===void 0?"rc-trigger-popup":o,l=r.children,c=r.action,m=c===void 0?"hover":c,d=r.showAction,b=r.hideAction,f=r.popupVisible,C=r.defaultPopupVisible,h=r.onPopupVisibleChange,g=r.afterPopupVisibleChange,P=r.mouseEnterDelay,R=r.mouseLeaveDelay,B=R===void 0?.1:R,T=r.focusDelay,M=r.blurDelay,v=r.mask,_=r.maskClosable,X=_===void 0?!0:_,O=r.getPopupContainer,ie=r.forceRender,de=r.autoDestroy,Q=r.destroyPopupOnHide,p=r.popup,fe=r.popupClassName,he=r.popupStyle,ue=r.popupPlacement,me=r.builtinPlacements,x=me===void 0?{}:me,W=r.popupAlign,y=r.zIndex,J=r.stretch,k=r.getPopupClassNameFromAlign,le=r.fresh,ee=r.alignPoint,nr=r.onPopupClick,Qe=r.onPopupAlign,ge=r.arrow,Je=r.popupMotion,re=r.maskMotion,H=r.popupTransitionName,K=r.popupAnimation,se=r.maskTransitionName,ce=r.maskAnimation,Ke=r.className,or=r.getTriggerDOMNode,I=qa(r,mt),Ge=de||Q||!1,ke=n.useState(!1),q=S(ke,2),ye=q[0],w=q[1];V(function(){w(tt())},[]);var xe=n.useRef({}),G=n.useContext(Ma),Cr=n.useMemo(function(){return{registerSubPopup:function(s,L){xe.current[s]=L,G==null||G.registerSubPopup(s,L)}}},[G]),$e=et(),De=n.useState(null),Mr=S(De,2),A=Mr[0],Ar=Mr[1],ir=n.useRef(null),ae=Ve(function(i){ir.current=i,va(i)&&A!==i&&Ar(i),G==null||G.registerSubPopup($e,i)}),te=n.useState(null),Sr=S(te,2),ne=Sr[0],jr=Sr[1],Pr=n.useRef(null),qr=Ve(function(i){va(i)&&ne!==i&&(jr(i),Pr.current=i)}),ze=n.Children.only(l),Z=(ze==null?void 0:ze.props)||{},Le={},we=Ve(function(i){var s,L,z=ne;return(z==null?void 0:z.contains(i))||((s=da(z))===null||s===void 0?void 0:s.host)===i||i===z||(A==null?void 0:A.contains(i))||((L=da(A))===null||L===void 0?void 0:L.host)===i||i===A||Object.values(xe.current).some(function(N){return(N==null?void 0:N.contains(i))||i===N})}),U=Pa(u,Je,K,H),kr=Pa(u,re,ce,se),$r=n.useState(C||!1),be=S($r,2),D=be[0],$=be[1],E=f??D,Ze=Ve(function(i){f===void 0&&$(i)});V(function(){$(f||!1)},[f]);var Ne=n.useRef(E);Ne.current=E;var We=n.useRef([]);We.current=[];var ur=Ve(function(i){var s;Ze(i),((s=We.current[We.current.length-1])!==null&&s!==void 0?s:E)!==i&&(We.current.push(i),h==null||h(i))}),lr=n.useRef(),He=function(){clearTimeout(lr.current)},oe=function(s){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;He(),L===0?ur(s):lr.current=setTimeout(function(){ur(s)},L*1e3)};n.useEffect(function(){return He},[]);var Ur=n.useState(!1),sr=S(Ur,2),Ye=sr[0],cr=sr[1];V(function(i){(!i||E)&&cr(!0)},[E]);var Be=n.useState(null),_e=S(Be,2),Ce=_e[0],Ie=_e[1],Dr=n.useState([0,0]),vr=S(Dr,2),Re=vr[0],Lr=vr[1],Xe=function(s){Lr([s.clientX,s.clientY])},Fe=dt(E,A,ee?Re:ne,ue,x,W,Qe),j=S(Fe,11),Vr=j[0],Nr=j[1],Rr=j[2],Ae=j[3],Er=j[4],Qr=j[5],je=j[6],Tr=j[7],Jr=j[8],ve=j[9],Me=j[10],dr=st(ye,m,d,b),xr=S(dr,2),Ee=xr[0],qe=xr[1],fr=Ee.has("click"),Oe=qe.has("click")||qe.has("contextMenu"),Se=Ve(function(){Ye||Me()}),Kr=function(){Ne.current&&ee&&Oe&&oe(!1)};ft(E,ne,A,Se,Kr),V(function(){Se()},[Re,ue]),V(function(){E&&!(x!=null&&x[ue])&&Se()},[JSON.stringify(W)]);var Gr=n.useMemo(function(){var i=vt(x,u,ve,ee);return tr(i,k==null?void 0:k(ve))},[ve,k,x,u,ee]);n.useImperativeHandle(t,function(){return{nativeElement:Pr.current,popupElement:ir.current,forceAlign:Se}});var Zr=n.useState(0),zr=S(Zr,2),Yr=zr[0],Xr=zr[1],Or=n.useState(0),Wr=S(Or,2),pr=Wr[0],hr=Wr[1],pe=function(){if(J&&ne){var s=ne.getBoundingClientRect();Xr(s.width),hr(s.height)}},ea=function(){pe(),Se()},Y=function(s){cr(!1),Me(),g==null||g(s)},Hr=function(){return new Promise(function(s){pe(),Ie(function(){return s})})};V(function(){Ce&&(Me(),Ce(),Ie(null))},[Ce]);function Pe(i,s,L,z){Le[i]=function(N){var _r;z==null||z(N),oe(s,L);for(var oa=arguments.length,ha=new Array(oa>1?oa-1:0),Ir=1;Ir<oa;Ir++)ha[Ir-1]=arguments[Ir];(_r=Z[i])===null||_r===void 0||_r.call.apply(_r,[Z,N].concat(ha))}}(fr||Oe)&&(Le.onClick=function(i){var s;Ne.current&&Oe?oe(!1):!Ne.current&&fr&&(Xe(i),oe(!0));for(var L=arguments.length,z=new Array(L>1?L-1:0),N=1;N<L;N++)z[N-1]=arguments[N];(s=Z.onClick)===null||s===void 0||s.call.apply(s,[Z,i].concat(z))}),ht(E,Oe,ne,A,v,X,we,oe);var Ue=Ee.has("hover"),er=qe.has("hover"),rr,mr;Ue&&(Pe("onMouseEnter",!0,P,function(i){Xe(i)}),Pe("onPointerEnter",!0,P,function(i){Xe(i)}),rr=function(s){(E||Ye)&&A!==null&&A!==void 0&&A.contains(s.target)&&oe(!0,P)},ee&&(Le.onMouseMove=function(i){var s;(s=Z.onMouseMove)===null||s===void 0||s.call(Z,i)})),er&&(Pe("onMouseLeave",!1,B),Pe("onPointerLeave",!1,B),mr=function(){oe(!1,B)}),Ee.has("focus")&&Pe("onFocus",!0,T),qe.has("focus")&&Pe("onBlur",!1,M),Ee.has("contextMenu")&&(Le.onContextMenu=function(i){var s;Ne.current&&qe.has("contextMenu")?oe(!1):(Xe(i),oe(!0)),i.preventDefault();for(var L=arguments.length,z=new Array(L>1?L-1:0),N=1;N<L;N++)z[N-1]=arguments[N];(s=Z.onContextMenu)===null||s===void 0||s.call.apply(s,[Z,i].concat(z))}),Ke&&(Le.className=tr(Z.className,Ke));var gr=F(F({},Z),Le),Br={},ra=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];ra.forEach(function(i){I[i]&&(Br[i]=function(){for(var s,L=arguments.length,z=new Array(L),N=0;N<L;N++)z[N]=arguments[N];(s=gr[i])===null||s===void 0||s.call.apply(s,[gr].concat(z)),I[i].apply(I,z)})});var aa=n.cloneElement(ze,F(F({},gr),Br)),ta={x:Qr,y:je},na=ge?F({},ge!==!0?ge:{}):null;return n.createElement(n.Fragment,null,n.createElement(za,{disabled:!E,ref:qr,onResize:ea},n.createElement(lt,{getTriggerDOMNode:or},aa)),n.createElement(Ma.Provider,{value:Cr},n.createElement(ut,{portal:e,ref:ae,prefixCls:u,popup:p,className:tr(fe,Gr),style:he,target:ne,onMouseEnter:rr,onMouseLeave:mr,onPointerEnter:rr,zIndex:y,open:E,keepDom:Ye,fresh:le,onClick:nr,mask:v,motion:U,maskMotion:kr,onVisibleChanged:Y,onPrepare:Hr,forceRender:ie,autoDestroy:Ge,getPopupContainer:O,align:ve,arrow:na,arrowPos:ta,ready:Vr,offsetX:Nr,offsetY:Rr,offsetR:Ae,offsetB:Er,onAlign:Se,stretch:J,targetWidth:Yr/Tr,targetHeight:pr/Jr})))});return a}const kt=gt(Ba);export{Ba as P,kt as T,Mt as a,tt as b,St as c,Ka as d,Ct as g,Pt as i,et as u};
