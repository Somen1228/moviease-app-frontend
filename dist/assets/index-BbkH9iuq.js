import{r as t,u as f,j as s}from"./index-CyGIF9Ci.js";import{g as h}from"./movies-8PjgJ98_.js";import{h as n}from"./moment-C5S46NFB.js";import{S as g}from"./SearchBar-DM5ydum_.js";import{s as v}from"./index-pwftkDTR.js";function N(){const[a,x]=t.useState(null),[l,m]=t.useState(null),[r,c]=t.useState(""),[p,d]=t.useState(!0),i=f(),u=async()=>{const e=await h();e.success?x(e.data):v.error(e.message),d(!1)};return t.useEffect(()=>{u()},[]),t.useEffect(()=>{if(a){const e=a.filter(o=>o.title.toLowerCase().includes(r.toLowerCase()));m(e)}},[r,a]),s.jsxs(s.Fragment,{children:[s.jsx(g,{value:r,onChange:e=>c(e.target.value)}),s.jsx("div",{className:"my-[60px] h-[100rem] px-4 pb-20 sm:px-6 md:px-8",children:s.jsx("div",{className:"flex flex-wrap gap-8 justify-center mt-8",children:p?Array(8).fill(0).map((e,o)=>s.jsxs("div",{className:"flex-col w-[140px] sm:w-[160px] md:w-[180px] lg:w-[200px] animate-pulse",children:[s.jsx("div",{className:"h-[210px] sm:h-[240px] md:h-[270px] lg:h-[300px] w-full bg-gray-300 rounded-2xl"}),s.jsx("div",{className:"h-[40px] mt-2 bg-gray-300 rounded-3xl"})]},o)):l&&l.map(e=>s.jsxs("div",{className:"flex-col w-[140px] sm:w-[160px] md:w-[180px] lg:w-[200px]",children:[s.jsx("img",{className:"h-[210px] sm:h-[240px] md:h-[270px] lg:h-[300px] w-full transition-transform cursor-pointer rounded-2xl hover:scale-105 duration-300 ease-in-out",onClick:()=>{i(`/movie/${e._id}?date=${n().format("YYYY-MM-DD")}`)},src:e.poster,alt:"movie poster"}),s.jsx("h1",{className:"cursor-pointer move-up duration-200 transition-transform flex justify-center items-center mt-2 h-[40px] bg-stone-100 backdrop-blur bg-blur rounded-3xl font-bold text-[17px] text-blue-900",onClick:()=>{i(`/movie/${e._id}?date=${n().format("YYYY-MM-DD")}`)},children:e.title})]},e._id))})})]})}export{N as default};
